{"version":3,"sources":["../../src/state.ts","img/bank.svg","img/funds.svg","img/list.svg","img/settings.svg","constants.ts","components/Navigation.tsx","components/MetaTags.tsx","components/PageSizeWrapper.tsx","config.ts","api/index.ts","hooks/useStoredGames.ts","utils.ts","pages/Home/index.tsx","pages/Funds/SendMoneyModal.tsx","pages/Funds/GameCode.tsx","pages/Funds/index.tsx","pages/Bank/ValuePlayerForm.tsx","pages/Bank/GiveFreeParking.tsx","pages/Bank/index.tsx","pages/History/index.tsx","pages/Settings/RenamePlayerModal.tsx","pages/Settings/DeletePlayerModal.tsx","pages/Settings/EndGameConfirmDialog.tsx","pages/Settings/index.tsx","pages/Join/index.tsx","logic/GameHandler.ts","hooks/useGameHandler.ts","App.tsx","serviceWorker.ts","index.tsx","../../src/index.ts","img/banner.png"],"names":["players","freeParkingBalance","open","Object","assign","_extends","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","height","width","_ref3","x","y","points","_ref","svgRef","title","props","enableBackground","viewBox","ref","ForwardRef","forwardRef","d","siteUrl","routePaths","home","join","newGame","funds","bank","history","settings","pageMeta","titlePrefix","description","index","Navigation","inGame","isBanker","currentPath","usePath","navbarLinks","path","active","icon","FundsIcon","ListIcon","BankIcon","SettingsIcon","goTo","location","navigate","Navbar","bg","variant","sticky","className","Container","Brand","onClick","src","BannerImage","alt","style","cursor","Nav","filter","link","map","Icon","Link","href","Button","MetaTags","route","children","configPageMeta","useMetaTags","charset","lang","metas","name","content","links","rel","type","openGraph","image","site_name","PageSizeWrapper","Row","Col","api","root","process","joinGame","gameId","a","fetch","config","method","headers","body","JSON","stringify","response","status","json","Promise","resolve","Error","getGameStatus","userToken","abortController","Authorization","signal","useStoredGames","useState","AbortController","useLocalStorage","storedGames","setStoredGames","gameStatuses","setGameStatuses","useEffect","game","forEach","current","then","g","reduce","acc","curr","catch","error","console","abort","storeGame","playerId","time","DateTime","local","toISO","formatCurrency","value","toString","replace","Home","onGameSetup","useTitle","bannerImage","size","Card","Body","float","fromISO","toFormat","sort","p1","p2","player","Badge","banker","balance","block","SendMoneyModal","recipient","proposeTransaction","onClose","amount","setAmount","submitError","setSubmitError","Modal","show","onHide","centered","Header","closeButton","Title","InputGroup","Prepend","Text","FormControl","onChange","event","currentTarget","int","parseInt","isNaN","Form","color","GameCode","clipboard","useClipboard","copiedTimeout","copyTooltipTarget","useRef","copy","Overlay","copied","placement","Tooltip","id","Funds","isGameOpen","setRecipient","useModal","me","showSendMoneyModal","hideSendMoneyModal","find","p","undefined","b","ValuePlayerForm","label","submitText","onSubmit","identifier","toLowerCase","selectedPlayer","setSelectedPlayer","valid","htmlFor","DropdownButton","Dropdown","Item","Append","disabled","GiveFreeParking","as","Bank","getEventDetails","previousState","nextState","detail","colour","playerReceiving","to","playerGiving","from","playerNameBeforeRename","playerNameAfterRename","playerName","History","events","currentGameState","defaultGameState","details","calculateGameState","currentEventDetails","reverse","eventDetail","background","RenamePlayerModal","proposePlayerNameChange","setName","e","DeletePlayerModal","proposePlayerDelete","Footer","EndGameConfirmDialog","proposeGameEnd","Settings","proposeGameOpenStateChange","actioningPlayer","setActioningPlayer","hideNameChangeModal","showNameChangeModal","hideDeletePlayerModal","showDeletePlayerModal","hideEndGameConfirmModal","showEndGameConfirmModal","Table","striped","bordered","hover","role","aria-label","Join","setGameId","gameError","setGameError","nameError","setNameError","r","createGame","result","log","Group","Label","Control","placeholder","onKeyDown","GameHandler","onGameStateChange","onDisplayMessage","webSocket","gameState","gameEnd","reason","close","webSocketAPIRoot","WebSocket","onmessage","onWebSocketMessage","bind","addEventListener","message","send","wasClean","actionedBy","submitEvent","incomingMessage","parse","data","push","inPlayers","gameEnded","hide","cogoToast","info","position","hideAfter","useGameHandler","gameHandler","setGameHandler","updateState","forceUpdate","useCallback","initialize","clear","authInfo","getState","amIABanker","getEvents","actions","wrapRoute","child","App","onGameDestroy","values","NotFound","routes","routeResult","useRoutes","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.d8561673.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultGameState = {\n    players: [],\n    freeParkingBalance: 0,\n    open: true\n};\nexports.calculateGameState = (events, currentState) => {\n    return events.reduce((state, event) => {\n        switch (event.type) {\n            case \"playerJoin\":\n                return Object.assign(Object.assign({}, state), { players: [\n                        ...state.players,\n                        {\n                            playerId: event.playerId,\n                            name: event.name,\n                            banker: false,\n                            balance: 0\n                        }\n                    ] });\n            case \"playerDelete\":\n                return Object.assign(Object.assign({}, state), { players: state.players.filter((p) => p.playerId !== event.playerId) });\n            case \"playerNameChange\":\n                return Object.assign(Object.assign({}, state), { players: state.players.map((p) => p.playerId === event.playerId\n                        ? Object.assign(Object.assign({}, p), { name: event.name }) : p) });\n            case \"playerBankerStatusChange\":\n                return Object.assign(Object.assign({}, state), { players: state.players.map((p) => p.playerId === event.playerId\n                        ? Object.assign(Object.assign({}, p), { banker: event.isBanker }) : p) });\n            case \"transaction\":\n                if (event.from === \"bank\" || event.from === \"freeParking\") {\n                    const destinationPlayer = state.players.find((p) => p.playerId === event.to);\n                    if (destinationPlayer === undefined) {\n                        throw new Error(\"Unable to find destination player\");\n                    }\n                    return Object.assign(Object.assign({}, state), { players: [\n                            ...state.players.filter((p) => p.playerId !== event.from && p.playerId !== event.to),\n                            Object.assign(Object.assign({}, destinationPlayer), { balance: destinationPlayer.balance + event.amount })\n                        ], freeParkingBalance: event.from === \"freeParking\"\n                            ? state.freeParkingBalance - event.amount\n                            : state.freeParkingBalance });\n                }\n                else if (event.to === \"bank\" || event.to === \"freeParking\") {\n                    const sourcePlayer = state.players.find((p) => p.playerId === event.from);\n                    if (sourcePlayer === undefined) {\n                        throw new Error(\"Unable to find source player\");\n                    }\n                    return Object.assign(Object.assign({}, state), { players: [\n                            ...state.players.filter((p) => p.playerId !== event.from && p.playerId !== event.to),\n                            Object.assign(Object.assign({}, sourcePlayer), { balance: sourcePlayer.balance - event.amount })\n                        ], freeParkingBalance: event.to === \"freeParking\"\n                            ? state.freeParkingBalance + event.amount\n                            : state.freeParkingBalance });\n                }\n                else {\n                    const sourcePlayer = state.players.find((p) => p.playerId === event.from);\n                    const destinationPlayer = state.players.find((p) => p.playerId === event.to);\n                    if (sourcePlayer === undefined || destinationPlayer === undefined) {\n                        throw new Error(\"Unable to find source or destination player\");\n                    }\n                    return Object.assign(Object.assign({}, state), { players: [\n                            ...state.players.filter((p) => p.playerId !== event.from && p.playerId !== event.to),\n                            Object.assign(Object.assign({}, sourcePlayer), { balance: sourcePlayer.balance - event.amount }),\n                            Object.assign(Object.assign({}, destinationPlayer), { balance: destinationPlayer.balance + event.amount })\n                        ] });\n                }\n            case \"gameOpenStateChange\":\n                return Object.assign(Object.assign({}, state), { open: event.open });\n        }\n    }, currentState);\n};\n//# sourceMappingURL=state.js.map","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"none\",\n  height: 24,\n  width: 24\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  height: 7,\n  width: 3,\n  x: 4,\n  y: 10\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  height: 7,\n  width: 3,\n  x: 10.5,\n  y: 10\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  height: 3,\n  width: 20,\n  x: 2,\n  y: 19\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  height: 7,\n  width: 3,\n  x: 17,\n  y: 10\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"12,1 2,6 2,8 22,8 22,6\"\n})));\n\nvar SvgBank = function SvgBank(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBank, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bank.1c746165.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFunds = function SvgFunds(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFunds, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/funds.ef509e7a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgList = function SvgList(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgList, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/list.cc604769.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,0h24v24H0V0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"\n}));\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.40a78ad1.svg\";\nexport { ForwardRef as ReactComponent };","import { IPageMeta } from \"./components/MetaTags\";\n\nexport const siteUrl = \"https://monopoly-money.nitratine.net\";\n\nexport const routePaths = {\n  home: \"/\",\n  join: \"/join\",\n  newGame: \"/new-game\",\n  funds: \"/funds\",\n  bank: \"/bank\",\n  history: \"/history\",\n  settings: \"/settings\"\n};\n\nexport const pageMeta: Record<string, IPageMeta> = {\n  [routePaths.home]: {\n    titlePrefix: \"\",\n    description:\n      \"Monopoly Money helps you manage your finances in a game of monopoly from the browser.\",\n    index: true\n  },\n  [routePaths.join]: {\n    titlePrefix: \"Join Game\",\n    description: \"Join a Monopoly Money game\",\n    index: true\n  },\n  [routePaths.newGame]: {\n    titlePrefix: \"New Game\",\n    description: \"Create a new Monopoly Money game\",\n    index: true\n  },\n  [routePaths.funds]: {\n    titlePrefix: \"Manage Funds\",\n    index: false\n  },\n  [routePaths.bank]: {\n    titlePrefix: \"Bank\",\n    description: \"TODO\",\n    index: false\n  },\n  [routePaths.history]: {\n    titlePrefix: \"History\",\n    index: false\n  },\n  [routePaths.settings]: {\n    titlePrefix: \"Settings\",\n    index: false\n  }\n};\n","import React from \"react\";\nimport { navigate, usePath } from \"hookrouter\";\nimport { Container, Nav, Navbar, Button } from \"react-bootstrap\";\nimport BannerImage from \"../img/banner.png\";\nimport { ReactComponent as BankIcon } from \"../img/bank.svg\";\nimport { ReactComponent as FundsIcon } from \"../img/funds.svg\";\nimport { ReactComponent as ListIcon } from \"../img/list.svg\";\nimport { ReactComponent as SettingsIcon } from \"../img/settings.svg\";\nimport { routePaths } from \"../constants\";\nimport \"./Navigation.scss\";\n\ninterface INavigationProps {\n  inGame: boolean;\n  isBanker: boolean;\n}\n\ninterface INavbarLink {\n  active: boolean;\n  title: string;\n  icon: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;\n  path: string;\n}\n\nconst Navigation: React.FC<INavigationProps> = ({ inGame, isBanker }) => {\n  const currentPath = usePath();\n\n  const navbarLinks: INavbarLink[] = [\n    {\n      path: routePaths.funds,\n      active: inGame,\n      title: \"Funds\",\n      icon: FundsIcon\n    },\n    {\n      path: routePaths.history,\n      active: inGame,\n      title: \"History\",\n      icon: ListIcon\n    },\n    {\n      path: routePaths.bank,\n      active: inGame && isBanker,\n      title: \"Bank\",\n      icon: BankIcon\n    },\n    {\n      path: routePaths.settings,\n      active: inGame && isBanker,\n      title: \"Settings\",\n      icon: SettingsIcon\n    }\n  ];\n\n  const goTo = (location: string) => () => navigate(location);\n\n  return (\n    <Navbar bg=\"light\" variant=\"light\" sticky=\"top\" className=\"navigation\">\n      <Container>\n        <Navbar.Brand onClick={goTo(\"/\")} className=\"mr-1\">\n          <img\n            src={BannerImage}\n            height=\"30\"\n            className=\"d-inline-block align-top\"\n            alt=\"Monopoly Money Banner Logo\"\n            style={{ cursor: \"pointer\" }}\n          />\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          {navbarLinks\n            .filter(link => link.active)\n            .map(link => {\n              const Icon = link.icon;\n              return (\n                <Nav.Link\n                  key={link.path}\n                  href=\"#\"\n                  onClick={goTo(link.path)}\n                  active={currentPath === link.path}\n                  className=\"p-0\"\n                >\n                  <Button variant=\"light\" title={link.title} className=\"d-flex ml-1 icon-button\">\n                    <Icon style={{ height: 25, width: 25 }} />\n                    <span className=\"ml-1 d-none d-sm-inline\">{link.title}</span>\n                  </Button>\n                </Nav.Link>\n              );\n            })}\n        </Nav>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport useMetaTags from \"react-metatags-hook\";\nimport BannerImage from \"../img/banner.png\";\nimport { pageMeta, siteUrl } from \"../constants\";\n\nexport interface IPageMeta {\n  titlePrefix: string;\n  description?: string;\n  index: boolean;\n}\n\ninterface IProps extends React.PropsWithChildren<{}> {\n  route: string;\n}\n\nconst MetaTags: React.FC<IProps> = ({ route, children }) => {\n  const configPageMeta = pageMeta[route];\n  const title = `${configPageMeta.titlePrefix} Monopoly Money`;\n\n  useMetaTags({\n    title,\n    description: configPageMeta.description,\n    charset: \"utf-8\",\n    lang: \"en\",\n    metas: [\n      {\n        name: \"robots\",\n        content: configPageMeta.index ? \"index\" : \"noindex, nofollow\"\n      }\n    ],\n    links: [\n      { rel: \"canonical\", href: siteUrl + route },\n      { rel: \"icon\", type: \"image/ico\", href: \"/favicon.ico\" },\n      { rel: \"apple-touch-icon\", type: \"image/png\", href: \"/logo.png\" }\n    ],\n    openGraph: {\n      title,\n      image: siteUrl + BannerImage,\n      site_name: \"Monopoly Money\"\n    }\n  });\n\n  return <>{children}</>;\n};\n\nexport default MetaTags;\n","import React, { ReactNode } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\ninterface IPageSizeWrapperProps {\n  children: ReactNode;\n}\n\nconst PageSizeWrapper: React.FC<IPageSizeWrapperProps> = ({ children }) => {\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col className=\"col-md-10\">{children}</Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default PageSizeWrapper;\n","export default {\n  api: {\n    root: process.env.REACT_APP_API_ROOT ? process.env.REACT_APP_API_ROOT : window.location.origin\n  }\n};\n","import config from \"../config\";\nimport {\n  ICreateGameRequest,\n  IJoinGameRequest,\n  IJoinGameResponse\n} from \"@monopoly-money/server/build/api/dto\";\nimport { IGameState } from \"@monopoly-money/game-state\";\n\nexport const createGame = (name: string): Promise<IJoinGameResponse> => {\n  return fetch(`${config.api.root}/api/game`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ name } as ICreateGameRequest)\n  }).then((r) => {\n    if (r.status === 200) {\n      return r.json() as Promise<IJoinGameResponse>;\n    } else {\n      throw new Error(`Server Error (HTTP${r.status})`);\n    }\n  });\n};\n\nexport const joinGame = async (\n  gameId: string,\n  name: string\n): Promise<IJoinGameResponse | \"DoesNotExist\" | \"NotOpen\"> => {\n  const response = await fetch(`${config.api.root}/api/game/${gameId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ name } as IJoinGameRequest)\n  });\n\n  if (response.status === 200) {\n    return response.json() as Promise<IJoinGameResponse>;\n  } else if (response.status === 404) {\n    return Promise.resolve(\"DoesNotExist\");\n  } else if (response.status === 403) {\n    return Promise.resolve(\"NotOpen\");\n  } else {\n    throw new Error(`Server Error (HTTP${response.status})`);\n  }\n};\n\nexport const getGameStatus = async (\n  gameId: string,\n  userToken: string,\n  abortController: AbortController | undefined\n): Promise<IGameState | \"DoesNotExist\"> => {\n  const response = await fetch(`${config.api.root}/api/game/${gameId}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: userToken\n    },\n    signal: abortController?.signal\n  });\n  if (response.status === 200) {\n    return response.json() as Promise<IGameState>;\n  } else if (response.status === 404) {\n    return Promise.resolve(\"DoesNotExist\") as Promise<\"DoesNotExist\">;\n  } else {\n    throw new Error(`Server Error (HTTP${response.status})`);\n  }\n};\n","import { useState, useEffect } from \"react\";\nimport { DateTime } from \"luxon\";\nimport useLocalStorage from \"@rehooks/local-storage\";\nimport { getGameStatus } from \"../api\";\nimport { IGameState } from \"@monopoly-money/game-state\";\n\nconst storedGamesLocalStorageKey = \"storedGames\";\n\ninterface IStoredGameInLocalStorage {\n  gameId: string;\n  userToken: string;\n  playerId: string;\n  time: string;\n}\n\nexport interface IStoredGame extends IStoredGameInLocalStorage {\n  status: IGameState | null;\n}\n\nconst useStoredGames = () => {\n  const [abortController] = useState(() => new AbortController());\n  const [storedGames, setStoredGames] = useLocalStorage<IStoredGameInLocalStorage[]>(\n    storedGamesLocalStorageKey,\n    []\n  );\n  const [gameStatuses, setGameStatuses] = useState<Record<string, IGameState | null>>({});\n\n  const storeGame = (gameId: string, userToken: string, playerId: string) => {\n    setStoredGames([\n      ...(storedGames ?? []).filter((game) => game.gameId !== gameId), // Remove current instance\n      {\n        gameId,\n        userToken,\n        playerId,\n        time: DateTime.local().toISO()\n      }\n    ]);\n  };\n\n  // Identify if we need to fetch some new game data\n  useEffect(() => {\n    const gamesWithoutStatuses = (storedGames ?? []).filter(\n      (game) => Object.keys(gameStatuses).indexOf(game.gameId) === -1\n    );\n\n    gamesWithoutStatuses.forEach(({ gameId, userToken }) => {\n      // Initially insert a null (to stop multiple requests)\n      setGameStatuses((current) => ({\n        ...current,\n        [gameId]: null\n      }));\n\n      // Make the request\n      getGameStatus(gameId, userToken, abortController)\n        .then((status) => {\n          if (status === \"DoesNotExist\") {\n            // Remove the game if it no longer exists\n            setStoredGames((storedGames ?? []).filter((g) => g.gameId !== gameId));\n            setGameStatuses((current) =>\n              Object.keys(current).reduce((acc, curr) => {\n                if (curr !== gameId) {\n                  return { ...acc, [gameId]: current[gameId] };\n                } else {\n                  return acc;\n                }\n              }, {} as Record<string, IGameState | null>)\n            );\n          } else {\n            // Add the status\n            setGameStatuses((current) => ({\n              ...current,\n              [gameId]: status\n            }));\n          }\n        })\n        .catch((error) => error?.name === \"DOMException\" && console.error(error)); // Ignore `DOMException: The user aborted a request.`\n    });\n  }, [storedGames, gameStatuses]);\n\n  // Abort all requests on unmount\n  useEffect(() => {\n    return () => {\n      abortController.abort();\n    };\n  }, []);\n\n  // Merge the games and statuses together\n  const storedGamesWithDetail: IStoredGame[] = (storedGames ?? []).map((game) => ({\n    ...game,\n    status: gameStatuses[game.gameId] ?? null\n  }));\n\n  return { storedGames: storedGamesWithDetail, storeGame };\n};\n\nexport default useStoredGames;\n","export const formatCurrency = (value: number) =>\n  \"$\" + value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n","import React from \"react\";\nimport bannerImage from \"../../img/banner.png\";\nimport { Button, Card, Badge } from \"react-bootstrap\";\nimport { navigate, useTitle } from \"hookrouter\";\nimport useStoredGames from \"../../hooks/useStoredGames\";\nimport \"./Home.scss\";\nimport { DateTime } from \"luxon\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface IHomeProps {\n  onGameSetup: (gameId: string, userToken: string, playerId: string) => void;\n}\n\nconst Home: React.FC<IHomeProps> = ({ onGameSetup }) => {\n  useTitle(\"Monopoly Money\");\n  const { storedGames } = useStoredGames();\n\n  const newGame = () => navigate(\"/new-game\");\n  const joinGame = () => navigate(\"/join\");\n\n  return (\n    <div className=\"home text-center\">\n      <h1 className=\"sr-only\">Monopoly Money</h1>\n      <img src={bannerImage} className=\"banner\" alt=\"Monopoly Money Banner\" />\n\n      <p className=\"lead mt-2\">\n        An easy way to manage finances in your game of monopoly from the browser.\n      </p>\n\n      <div className=\"new-join-button-wrapper mt-4\">\n        <Button size=\"lg\" onClick={newGame}>\n          New Game\n        </Button>\n        <Button size=\"lg\" onClick={joinGame}>\n          Join Game\n        </Button>\n      </div>\n\n      <div className=\"mt-4\">\n        <h2>Your Active Games</h2>\n        {storedGames.length > 0 ? (\n          storedGames.map(({ gameId, userToken, playerId, status, time }) => (\n            <Card key={gameId} className=\"mb-1\">\n              <Card.Body className=\"p-2\">\n                <div className=\"text-left\">\n                  Game {gameId}\n                  <small style={{ float: \"right\" }}>\n                    {DateTime.fromISO(time).toFormat(\"DD h:mm a\")}\n                  </small>\n                </div>\n                <div>\n                  {status?.players\n                    .sort((p1, p2) => (p1.playerId === playerId ? -1 : 0))\n                    .map((player) => (\n                      <Badge\n                        key={player.playerId}\n                        variant={\n                          player.playerId === playerId ? \"dark\" : player.banker ? \"info\" : \"success\"\n                        }\n                        className=\"mr-1\"\n                      >\n                        {player.name}: {formatCurrency(player.balance)}\n                      </Badge>\n                    ))}\n                  {status !== null && (\n                    <Badge variant=\"warning\">\n                      Free Parking: {formatCurrency(status.freeParkingBalance)}\n                    </Badge>\n                  )}\n                </div>\n                <Button\n                  block\n                  size=\"sm\"\n                  variant=\"outline-primary\"\n                  onClick={() => onGameSetup(gameId, userToken, playerId)}\n                  className=\"mt-2\"\n                >\n                  Join Game\n                </Button>\n              </Card.Body>\n            </Card>\n          ))\n        ) : (\n          <>\n            <div>You have no active games</div>\n          </>\n        )}\n      </div>\n\n      <hr />\n\n      <div>\n        <h2>What is Monopoly Money?</h2>\n        <p>\n          Monopoly Money is a webapp that helps you keep track of your finances in a game of\n          Monopoly (or any game that uses currency).\n        </p>\n        <p>\n          Instead of using the cash that the game commonly comes with, you can play Monopoly like\n          you're playing the credit card edition, but with your phone - a much more faster way to\n          exchange money.\n        </p>\n\n        {/* TODO Screenshot of everyone's balances */}\n\n        {/* TODO Screenshot of history */}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { Button, Modal, InputGroup, FormControl, Form } from \"react-bootstrap\";\nimport { IGameStatePlayer, GameEntity } from \"@monopoly-money/game-state\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface ISendMoneyModalProps {\n  balance: number;\n  playerId: string;\n  recipient: \"freeParking\" | IGameStatePlayer;\n  proposeTransaction: (from: GameEntity, to: GameEntity, amount: number) => void;\n  onClose: () => void;\n}\n\nconst SendMoneyModal: React.FC<ISendMoneyModalProps> = ({\n  balance,\n  playerId,\n  recipient,\n  proposeTransaction,\n  onClose\n}) => {\n  const [amount, setAmount] = useState(\"\");\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  const submit = () => {\n    if (amount === \"\") {\n      setSubmitError(\"Please provide an amount\");\n    } else if (parseInt(amount, 10) > balance) {\n      setSubmitError(`You do not have enough money (${formatCurrency(balance)})`);\n    } else {\n      setSubmitError(null);\n      proposeTransaction(\n        playerId,\n        recipient === \"freeParking\" ? \"freeParking\" : recipient.playerId,\n        parseInt(amount, 10)\n      );\n      onClose();\n    }\n  };\n\n  const cancel = () => {\n    setSubmitError(null);\n    onClose();\n  };\n\n  const onAmountUpdate = (event: React.FormEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const int = parseInt(value ?? \"\", 10);\n    setAmount(isNaN(int) ? \"\" : `${int}`);\n  };\n\n  return (\n    <Modal show={true} onHide={cancel} size=\"lg\" centered className=\"send-money-modal\">\n      <Modal.Header closeButton>\n        <Modal.Title>\n          Transfer Funds to {recipient === \"freeParking\" ? \"Free Parking\" : recipient.name}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <InputGroup>\n          <InputGroup.Prepend>\n            <InputGroup.Text>Amount</InputGroup.Text>\n          </InputGroup.Prepend>\n          <FormControl type=\"number\" value={amount} onChange={onAmountUpdate} />\n          <Button variant=\"success\" className=\"remove-left-border-radius\" onClick={submit}>\n            Send\n          </Button>\n        </InputGroup>\n        <Form.Text style={{ color: \"var(--danger)\" }}>{submitError}</Form.Text>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default SendMoneyModal;\n","import React, { useRef } from \"react\";\nimport { useClipboard } from \"use-clipboard-copy\";\nimport { Overlay, Tooltip } from \"react-bootstrap\";\n\ninterface IGameCodeProps {\n  gameId: string;\n  isBanker: boolean;\n}\n\nconst GameCode: React.FC<IGameCodeProps> = ({ gameId, isBanker }) => {\n  const clipboard = useClipboard({\n    copiedTimeout: 1000\n  });\n  const copyTooltipTarget = useRef<HTMLHeadingElement>();\n\n  const gameIdClicked = () => {\n    clipboard.copy(gameId);\n  };\n\n  return (\n    <div className=\"text-center\">\n      <h1 ref={copyTooltipTarget as any} onClick={gameIdClicked}>\n        {gameId}\n      </h1>\n      <Overlay target={copyTooltipTarget.current} show={clipboard.copied} placement=\"bottom\">\n        {(props) => (\n          <Tooltip id=\"overlay-example\" {...(props as any)}>\n            Copied to clipboard\n          </Tooltip>\n        )}\n      </Overlay>\n      {isBanker && (\n        <small className=\"text-muted\">You can hide this by closing the game in the settings.</small>\n      )}\n      <hr />\n    </div>\n  );\n};\n\nexport default GameCode;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Button } from \"react-bootstrap\";\nimport \"./Funds.scss\";\nimport { IGameStatePlayer, GameEntity } from \"@monopoly-money/game-state\";\nimport SendMoneyModal from \"./SendMoneyModal\";\nimport { useModal } from \"react-modal-hook\";\nimport GameCode from \"./GameCode\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface IFundsProps {\n  gameId: string;\n  playerId: string;\n  isGameOpen: boolean;\n  players: IGameStatePlayer[];\n  freeParkingBalance: number;\n  proposeTransaction: (from: GameEntity, to: GameEntity, amount: number) => void;\n}\n\nconst Funds: React.FC<IFundsProps> = ({\n  gameId,\n  playerId,\n  isGameOpen,\n  players,\n  freeParkingBalance,\n  proposeTransaction\n}) => {\n  const [recipient, setRecipient] = useState<IGameStatePlayer | \"freeParking\" | null>(null);\n  const [showSendMoneyModal, hideSendMoneyModal] = useModal(\n    () => (\n      <>\n        {recipient !== null && (\n          <SendMoneyModal\n            balance={me?.balance ?? 0}\n            playerId={playerId}\n            recipient={recipient}\n            proposeTransaction={proposeTransaction}\n            onClose={() => setRecipient(null)}\n          />\n        )}\n      </>\n    ),\n    [recipient]\n  );\n\n  // Show/hide the send money modal automatically\n  useEffect(() => {\n    if (recipient !== null) {\n      showSendMoneyModal();\n    } else {\n      hideSendMoneyModal();\n    }\n  }, [recipient, showSendMoneyModal, hideSendMoneyModal]);\n\n  const me = players.find((p) => p.playerId === playerId);\n  const isBanker = me?.banker ?? false;\n\n  return (\n    <div className=\"funds\">\n      {isGameOpen && <GameCode gameId={gameId} isBanker={isBanker} />}\n\n      <Card className=\"mb-1 text-center\">\n        {me !== undefined && (\n          <Card.Body className=\"p-3\">\n            {me.name}: {formatCurrency(me.balance)}\n          </Card.Body>\n        )}\n      </Card>\n\n      <div className=\"balance-grid\">\n        {players\n          .filter((p) => p.playerId !== playerId)\n          .sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0))\n          .map((player) => (\n            <Card key={player.name} className=\"text-center\">\n              <Card.Body className=\"p-3\">\n                <div>{player.name}</div>\n                <div>{formatCurrency(player.balance)}</div>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline-dark\"\n                  className=\"mt-2\"\n                  onClick={() => setRecipient(player)}\n                >\n                  Send Money\n                </Button>\n              </Card.Body>\n            </Card>\n          ))}\n      </div>\n\n      <Card className=\"mt-1 text-center\">\n        <Card.Body className=\"p-3\">\n          <div>Free Parking: {formatCurrency(freeParkingBalance)}</div>\n          <Button\n            size=\"sm\"\n            variant=\"outline-dark\"\n            className=\"mt-2\"\n            onClick={() => setRecipient(\"freeParking\")}\n          >\n            Send Money\n          </Button>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default Funds;\n","import React, { useState } from \"react\";\nimport { InputGroup, Button, FormControl, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { IGameStatePlayer } from \"@monopoly-money/game-state\";\n\ninterface IValuePlayerFormProps {\n  label: string;\n  submitText: string;\n  players: IGameStatePlayer[];\n  onSubmit: (value: number, playerId: string) => void;\n}\n\nconst ValuePlayerForm: React.FC<IValuePlayerFormProps> = ({\n  label,\n  submitText,\n  players,\n  onSubmit\n}) => {\n  const identifier = label.toLowerCase().replace(\" \", \"-\");\n  const [amount, setAmount] = useState(\"\");\n  const [selectedPlayer, setSelectedPlayer] = useState<IGameStatePlayer | null>(null);\n\n  const valid = amount !== \"\" && selectedPlayer !== null;\n\n  const onAmountUpdate = (event: React.FormEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const int = parseInt(value ?? \"\", 10);\n    setAmount(isNaN(int) ? \"\" : `${int}`);\n  };\n\n  const submit = () => {\n    if (selectedPlayer !== null) {\n      onSubmit(parseInt(amount, 10), selectedPlayer.playerId);\n      setAmount(\"\");\n      setSelectedPlayer(null);\n    }\n  };\n\n  return (\n    <>\n      <label htmlFor={`${identifier}-value`}>{label}</label>\n      <InputGroup>\n        <FormControl\n          type=\"number\"\n          id={`${identifier}-value`}\n          value={amount}\n          onChange={onAmountUpdate}\n          className=\"with-dollar-sign-input-icon\"\n        />\n        <span className=\"dollar-sign-input-icon\">$</span>\n\n        <DropdownButton\n          variant=\"outline-secondary\"\n          id={`${identifier}-player`}\n          className=\"mid-dropdown\"\n          title={selectedPlayer?.name ?? \"Select Player\"}\n        >\n          {players.map((player) => (\n            <Dropdown.Item key={player.playerId} onClick={() => setSelectedPlayer(player)}>\n              {player.name}\n            </Dropdown.Item>\n          ))}\n        </DropdownButton>\n\n        <InputGroup.Append>\n          <Button variant=\"outline-secondary\" onClick={submit} disabled={!valid}>\n            {submitText}\n          </Button>\n        </InputGroup.Append>\n      </InputGroup>\n    </>\n  );\n};\n\nexport default ValuePlayerForm;\n","import React, { useState } from \"react\";\nimport { InputGroup, Button, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { IGameStatePlayer } from \"@monopoly-money/game-state\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface IGiveFreeParkingProps {\n  players: IGameStatePlayer[];\n  freeParkingBalance: number;\n  onSubmit: (playerId: string) => void;\n}\n\nconst GiveFreeParking: React.FC<IGiveFreeParkingProps> = ({\n  players,\n  freeParkingBalance,\n  onSubmit\n}) => {\n  const [selectedPlayer, setSelectedPlayer] = useState<IGameStatePlayer | null>(null);\n\n  const valid = selectedPlayer !== null;\n\n  const submit = () => {\n    if (selectedPlayer !== null) {\n      onSubmit(selectedPlayer.playerId);\n      setSelectedPlayer(null);\n    }\n  };\n\n  return (\n    <>\n      <label htmlFor={`free-parking-player`}>\n        Give Free Parking ({formatCurrency(freeParkingBalance)})\n      </label>\n      <InputGroup>\n        <DropdownButton\n          as={InputGroup.Prepend}\n          variant=\"outline-secondary\"\n          id={`free-parking-player`}\n          title={selectedPlayer?.name ?? \"Select Player\"}\n        >\n          {players.map((player) => (\n            <Dropdown.Item key={player.playerId} onClick={() => setSelectedPlayer(player)}>\n              {player.name}\n            </Dropdown.Item>\n          ))}\n        </DropdownButton>\n\n        <InputGroup.Append>\n          <Button variant=\"outline-secondary\" onClick={submit} disabled={!valid}>\n            Give\n          </Button>\n        </InputGroup.Append>\n      </InputGroup>\n    </>\n  );\n};\n\nexport default GiveFreeParking;\n","import React from \"react\";\nimport ValuePlayerForm from \"./ValuePlayerForm\";\nimport { IGameStatePlayer, GameEntity } from \"@monopoly-money/game-state\";\nimport \"./Bank.scss\";\nimport GiveFreeParking from \"./GiveFreeParking\";\n\ninterface IBankProps {\n  players: IGameStatePlayer[];\n  freeParkingBalance: number;\n  proposeTransaction: (from: GameEntity, to: GameEntity, amount: number) => void;\n}\n\nconst Bank: React.FC<IBankProps> = ({ players, freeParkingBalance, proposeTransaction }) => {\n  return (\n    <div className=\"bank\">\n      <div className=\"mb-3\">\n        <ValuePlayerForm\n          label=\"Give Money To Player\"\n          submitText=\"Send\"\n          players={players}\n          onSubmit={(value: number, playerId: string) =>\n            proposeTransaction(\"bank\", playerId, value)\n          }\n        />\n      </div>\n\n      <div className=\"mb-3\">\n        <ValuePlayerForm\n          label=\"Take Money From Player\"\n          submitText=\"Take\"\n          players={players}\n          onSubmit={(value: number, playerId: string) =>\n            proposeTransaction(\"bank\", playerId, -value)\n          }\n        />\n      </div>\n\n      <div className=\"mb-3\">\n        <GiveFreeParking\n          players={players}\n          freeParkingBalance={freeParkingBalance}\n          onSubmit={(playerId: string) =>\n            proposeTransaction(\"freeParking\", playerId, freeParkingBalance)\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Bank;\n","import React from \"react\";\nimport {\n  GameEvent,\n  calculateGameState,\n  defaultGameState,\n  IGameState\n} from \"@monopoly-money/game-state\";\nimport \"./History.scss\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface IHistoryProps {\n  events: GameEvent[];\n}\n\nconst History: React.FC<IHistoryProps> = ({ events }) => {\n  let currentGameState = defaultGameState;\n  const details = events.map((event) => {\n    const nextState = calculateGameState([event], currentGameState);\n    const currentEventDetails = getEventDetails(event, currentGameState, nextState);\n    currentGameState = nextState;\n    return currentEventDetails;\n  });\n\n  return (\n    <div className=\"history\">\n      {details.reverse().map((eventDetail) => (\n        <div key={eventDetail.id} className=\"event mb-2\">\n          <div className=\"bar\" style={{ background: `var(--${eventDetail.colour})` }} />\n          <div className=\"event-details\">\n            <div className=\"title\">\n              <small>{eventDetail.title}</small>\n            </div>\n            <div className=\"detail\">{eventDetail.detail}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst getEventDetails = (\n  event: GameEvent,\n  previousState: IGameState,\n  nextState: IGameState\n): {\n  id: string;\n  title: string;\n  detail: string;\n  colour: \"blue\" | \"red\" | \"orange\" | \"yellow\" | \"green\" | \"cyan\"; // https://getbootstrap.com/docs/4.0/getting-started/theming/#all-colors\n} => {\n  switch (event.type) {\n    case \"playerJoin\": {\n      const player = nextState.players.find((p) => p.playerId === event.playerId)!;\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Player Join\",\n        detail: `${player.name} joined`,\n        colour: \"cyan\"\n      };\n    }\n\n    case \"playerBankerStatusChange\": {\n      const player = nextState.players.find((p) => p.playerId === event.playerId)!;\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Player Banker Status Change\",\n        detail: `${player.name} was made a banker`,\n        colour: \"yellow\"\n      };\n    }\n\n    case \"transaction\": {\n      const playerReceiving =\n        event.to === \"bank\"\n          ? \"Bank\"\n          : event.to === \"freeParking\"\n          ? \"Free Parking\"\n          : nextState.players.find((p) => p.playerId === event.to)!.name;\n      const playerGiving =\n        event.from === \"bank\"\n          ? \"Bank\"\n          : event.from === \"freeParking\"\n          ? \"Free Parking\"\n          : nextState.players.find((p) => p.playerId === event.from)!.name;\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Transaction\",\n        detail: `${playerGiving} → ${playerReceiving} (${formatCurrency(event.amount)})`,\n        colour: \"green\"\n      };\n    }\n\n    case \"playerNameChange\": {\n      const playerNameBeforeRename = previousState.players.find(\n        (p) => p.playerId === event.playerId\n      )!.name;\n      const playerNameAfterRename = nextState.players.find((p) => p.playerId === event.playerId)!\n        .name;\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Player Name Change\",\n        detail: `${playerNameBeforeRename} was renamed to ${playerNameAfterRename}`,\n        colour: \"orange\"\n      };\n    }\n\n    case \"playerDelete\": {\n      const playerName = previousState.players.find((p) => p.playerId === event.playerId)!.name;\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Player Removal\",\n        detail: `${playerName} was removed from the game`,\n        colour: \"red\"\n      };\n    }\n\n    case \"gameOpenStateChange\": {\n      return {\n        id: `${event.type + event.time}`,\n        title: \"Game Open State Change\",\n        detail: `The game is now ${event.open ? \"open\" : \"closed\"} to new players`,\n        colour: \"blue\"\n      };\n    }\n  }\n};\n\nexport default History;\n","import React, { useState } from \"react\";\nimport { Button, Modal, InputGroup, FormControl, Form } from \"react-bootstrap\";\nimport { IGameStatePlayer } from \"@monopoly-money/game-state\";\n\ninterface IRenamePlayerModalProps {\n  player: IGameStatePlayer;\n  proposePlayerNameChange: (playerId: string, name: string) => void;\n  onClose: () => void;\n}\n\nconst RenamePlayerModal: React.FC<IRenamePlayerModalProps> = ({\n  player,\n  proposePlayerNameChange,\n  onClose\n}) => {\n  const [name, setName] = useState(player.name);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  const submit = () => {\n    if (name === \"\") {\n      setSubmitError(\"Name must not be empty\");\n    } else {\n      setSubmitError(null);\n    }\n    proposePlayerNameChange(player.playerId, name);\n    onClose();\n  };\n\n  return (\n    <Modal show={true} onHide={onClose} size=\"lg\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Change Player Name</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <InputGroup>\n          <InputGroup.Prepend>\n            <InputGroup.Text>Name</InputGroup.Text>\n          </InputGroup.Prepend>\n          <FormControl\n            value={name}\n            onChange={(e: React.FormEvent<HTMLInputElement>) => setName(e.currentTarget.value)}\n          />\n          <Button variant=\"success\" onClick={submit} className=\"remove-left-border-radius\">\n            Rename\n          </Button>\n        </InputGroup>\n        <Form.Text style={{ color: \"var(--danger)\" }}>{submitError}</Form.Text>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default RenamePlayerModal;\n","import React from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { IGameStatePlayer } from \"@monopoly-money/game-state\";\n\ninterface IDeletePlayerModalProps {\n  player: IGameStatePlayer;\n  proposePlayerDelete: (playerId: string) => void;\n  onClose: () => void;\n}\n\nconst DeletePlayerModal: React.FC<IDeletePlayerModalProps> = ({\n  player,\n  proposePlayerDelete,\n  onClose\n}) => {\n  return (\n    <Modal show={true} onHide={onClose} size=\"lg\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Remove Player</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>Are you sure you want to remove {player.name}?</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"danger\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button\n          variant=\"success\"\n          className=\" ml-1\"\n          onClick={() => {\n            proposePlayerDelete(player.playerId);\n            onClose();\n          }}\n        >\n          Remove\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default DeletePlayerModal;\n","import React from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\n\ninterface IEndGameConfirmDialogProps {\n  proposeGameEnd: () => void;\n  onClose: () => void;\n}\n\nconst EndGameConfirmDialog: React.FC<IEndGameConfirmDialogProps> = ({\n  proposeGameEnd,\n  onClose\n}) => {\n  return (\n    <Modal show={true} onHide={onClose} size=\"lg\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>End Game</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>Are you sure you want to end the game?</p>\n        <p>This will kick everyone and you will not be able to re-join the game.</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"danger\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button\n          variant=\"success\"\n          className=\" ml-1\"\n          onClick={() => {\n            proposeGameEnd();\n            onClose();\n          }}\n        >\n          End Game\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default EndGameConfirmDialog;\n","import React, { useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport { IGameStatePlayer } from \"@monopoly-money/game-state\";\nimport { useModal } from \"react-modal-hook\";\nimport RenamePlayerModal from \"./RenamePlayerModal\";\nimport DeletePlayerModal from \"./DeletePlayerModal\";\nimport EndGameConfirmDialog from \"./EndGameConfirmDialog\";\nimport { formatCurrency } from \"../../utils\";\n\ninterface ISettingsProps {\n  isGameOpen: boolean;\n  players: IGameStatePlayer[];\n  proposePlayerNameChange: (playerId: string, name: string) => void;\n  proposePlayerDelete: (playerId: string) => void;\n  proposeGameOpenStateChange: (open: boolean) => void;\n  proposeGameEnd: () => void;\n}\n\nconst Settings: React.FC<ISettingsProps> = ({\n  isGameOpen,\n  players,\n  proposePlayerNameChange,\n  proposePlayerDelete,\n  proposeGameOpenStateChange,\n  proposeGameEnd\n}) => {\n  const [actioningPlayer, setActioningPlayer] = useState<IGameStatePlayer | null>(null);\n  const [showNameChangeModal, hideNameChangeModal] = useModal(\n    () => (\n      <>\n        {actioningPlayer !== null && (\n          <RenamePlayerModal\n            player={actioningPlayer}\n            proposePlayerNameChange={proposePlayerNameChange}\n            onClose={hideNameChangeModal}\n          />\n        )}\n      </>\n    ),\n    [actioningPlayer]\n  );\n  const [showDeletePlayerModal, hideDeletePlayerModal] = useModal(\n    () => (\n      <>\n        {actioningPlayer !== null && (\n          <DeletePlayerModal\n            player={actioningPlayer}\n            proposePlayerDelete={proposePlayerDelete}\n            onClose={hideDeletePlayerModal}\n          />\n        )}\n      </>\n    ),\n    [actioningPlayer]\n  );\n  const [showEndGameConfirmModal, hideEndGameConfirmModal] = useModal(\n    () => (\n      <>\n        <EndGameConfirmDialog proposeGameEnd={proposeGameEnd} onClose={hideEndGameConfirmModal} />\n      </>\n    ),\n    [actioningPlayer]\n  );\n\n  return (\n    <div>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Balance</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {players.map((player) => (\n            <tr key={player.playerId}>\n              <td>{player.name}</td>\n              <td>{formatCurrency(player.balance)}</td>\n              <td>\n                <Button\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                  title=\"Rename\"\n                  onClick={() => {\n                    setActioningPlayer(player);\n                    showNameChangeModal();\n                  }}\n                >\n                  <span role=\"img\" aria-label=\"Rename\">\n                    ✏️\n                  </span>\n                </Button>\n                <Button\n                  variant=\"outline-danger\"\n                  size=\"sm\"\n                  title=\"Remove\"\n                  className=\"ml-1\"\n                  onClick={() => {\n                    setActioningPlayer(player);\n                    showDeletePlayerModal();\n                  }}\n                >\n                  <span role=\"img\" aria-label=\"Remove\">\n                    🗑️\n                  </span>\n                </Button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n\n      <Button block variant=\"primary\" onClick={() => proposeGameOpenStateChange(!isGameOpen)}>\n        {isGameOpen ? \"Close\" : \"Open\"} Game To New Players\n      </Button>\n\n      <Button block variant=\"danger\" onClick={() => showEndGameConfirmModal()}>\n        End Game\n      </Button>\n    </div>\n  );\n};\n\nexport default Settings;\n","import React, { useState } from \"react\";\nimport { useTitle } from \"hookrouter\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { createGame, joinGame } from \"../../api\";\n\ninterface IJoinProps {\n  newGame: boolean;\n  onGameSetup: (gameId: string, userToken: string, playerId: string) => void;\n}\n\nconst Join: React.FC<IJoinProps> = ({ newGame, onGameSetup }) => {\n  const title = newGame ? \"Create Game\" : \"Join Game\";\n\n  const [gameId, setGameId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [gameError, setGameError] = useState<string | null>(null);\n  const [nameError, setNameError] = useState<string | null>(null);\n\n  useTitle(`${title} - Monopoly Money`);\n\n  const onGameIdChange = (event: React.FormEvent<HTMLInputElement>) => {\n    setGameId(event.currentTarget.value ?? \"\");\n  };\n\n  const onNameChange = (event: React.FormEvent<HTMLInputElement>) => {\n    setName(event.currentTarget.value);\n  };\n\n  const onSubmit = () => {\n    if (newGame) {\n      // Validity check\n      if (name === \"\") {\n        setNameError(\"Please provide your name\");\n        return;\n      }\n      setNameError(null);\n\n      // Create game\n      createGame(name)\n        .then((result) => {\n          onGameSetup(result.gameId, result.userToken, result.playerId);\n        })\n        .catch((error) => console.log(error));\n    } else {\n      // Validity check\n      if (gameId === \"\") {\n        setGameError(\"Please provide the game Id\");\n        return;\n      }\n      setGameError(null);\n      if (name === \"\") {\n        setNameError(\"Please provide your name\");\n        return;\n      }\n      setNameError(null);\n\n      // Join game\n      joinGame(gameId, name)\n        .then((result) => {\n          if (result === \"DoesNotExist\") {\n            setGameError(\"That game does not exist\");\n          } else if (result === \"NotOpen\") {\n            setGameError(\"That game is not open. Ask the banker to open the game.\");\n          } else {\n            onGameSetup(result.gameId, result.userToken, result.playerId);\n          }\n        })\n        .catch((error) => console.log(error));\n    }\n  };\n\n  return (\n    <div className=\"text-center\">\n      <h1>{title}</h1>\n\n      {!newGame && (\n        <Form.Group>\n          <Form.Label>Game Id</Form.Label>\n          <Form.Control\n            placeholder=\"123456\"\n            value={gameId}\n            className=\"text-center\"\n            onChange={onGameIdChange}\n          />\n          <Form.Text style={{ color: \"var(--danger)\" }}>{gameError}</Form.Text>\n        </Form.Group>\n      )}\n\n      <Form.Group>\n        <Form.Label>Your Name</Form.Label>\n        <Form.Control\n          placeholder=\"Name\"\n          value={name}\n          className=\"text-center\"\n          onChange={onNameChange}\n          onKeyDown={(event: React.KeyboardEvent<HTMLInputElement>) =>\n            event.key === \"Enter\" && onSubmit()\n          }\n        />\n        <Form.Text style={{ color: \"var(--danger)\" }}>{nameError}</Form.Text>\n      </Form.Group>\n\n      <Button block variant=\"primary\" onClick={onSubmit}>\n        {newGame ? \"Create\" : \"Join\"}\n      </Button>\n    </div>\n  );\n};\n\nexport default Join;\n","import {\n  GameEvent,\n  IGameState,\n  defaultGameState,\n  calculateGameState,\n  GameEntity,\n  ITransactionEvent,\n  IPlayerNameChangeEvent,\n  IPlayerDeleteEvent,\n  IGameOpenStateChangeEvent\n} from \"@monopoly-money/game-state\";\nimport config from \"../config\";\nimport {\n  IAuthMessage,\n  OutgoingMessage,\n  IProposeEventMessage,\n  IProposeEndGameMessage\n} from \"@monopoly-money/server/build/api/dto\";\n\nexport interface IGameHandlerState {\n  events: GameEvent[];\n  isBanker: boolean;\n}\n\nclass GameHandler {\n  public gameId: string;\n  public userToken: string;\n  public playerId: string;\n  private onGameStateChange: (gameEnded: boolean) => void;\n  private onDisplayMessage: (message: string) => void;\n  private events: GameEvent[] = [];\n  private webSocket: WebSocket;\n  private gameState: IGameState = defaultGameState;\n\n  constructor(\n    gameId: string,\n    userToken: string,\n    playerId: string,\n    onGameStateChange: (gameEnded: boolean) => void,\n    onDisplayMessage: (message: string) => void\n  ) {\n    this.gameId = gameId;\n    this.userToken = userToken;\n    this.playerId = playerId;\n    this.onGameStateChange = onGameStateChange;\n    this.onDisplayMessage = onDisplayMessage;\n\n    // Create websocket and assign onmessage\n    const webSocketAPIRoot = config.api.root.replace(/http?/g, \"ws\"); // I couldn't be bothered just making another config value\n    this.webSocket = new WebSocket(`${webSocketAPIRoot}/api/events`);\n\n    // Setup on message\n    this.webSocket.onmessage = this.onWebSocketMessage.bind(this);\n\n    // Send auth message on websocket open\n    this.webSocket.addEventListener(\"open\", (event) => {\n      const message: IAuthMessage = {\n        type: \"auth\",\n        gameId: this.gameId,\n        userToken: this.userToken\n      };\n      this.webSocket.send(JSON.stringify(message));\n    });\n\n    // Handle websocket close\n    this.webSocket.addEventListener(\"close\", (event) => {\n      if (!event.wasClean) {\n        this.gameEnd(\"unexpectedWebSocketClosure\");\n        this.onGameStateChange(true);\n      }\n    });\n  }\n\n  // Get data to be used to display the UI\n  public getState(): IGameState {\n    return this.gameState;\n  }\n\n  // Get all events\n  public getEvents(): GameEvent[] {\n    return this.events;\n  }\n\n  // Identify whether this user is a banker\n  public amIABanker(): boolean {\n    const me = this.gameState.players.find((p) => p.playerId === this.playerId);\n    return me?.banker ?? false;\n  }\n\n  // Propose a transaction\n  public proposeTransaction(from: GameEntity, to: GameEntity, amount: number) {\n    const event: ITransactionEvent = {\n      time: \"\", // Will be filled in by the server\n      actionedBy: \"\", // Will be filled in by the server\n      type: \"transaction\",\n      from,\n      to,\n      amount\n    };\n    this.submitEvent(event);\n  }\n\n  // Rename a player\n  public proposePlayerNameChange(playerId: string, name: string) {\n    const event: IPlayerNameChangeEvent = {\n      time: \"\", // Will be filled in by the server\n      actionedBy: \"\", // Will be filled in by the server\n      type: \"playerNameChange\",\n      playerId,\n      name\n    };\n    this.submitEvent(event);\n  }\n\n  // Remove a player\n  public proposePlayerDelete(playerId: string) {\n    const event: IPlayerDeleteEvent = {\n      time: \"\", // Will be filled in by the server\n      actionedBy: \"\", // Will be filled in by the server\n      type: \"playerDelete\",\n      playerId\n    };\n    this.submitEvent(event);\n  }\n\n  // Open / close game\n  public proposeGameOpenStateChange(open: boolean) {\n    const event: IGameOpenStateChangeEvent = {\n      time: \"\", // Will be filled in by the server\n      actionedBy: \"\", // Will be filled in by the server\n      type: \"gameOpenStateChange\",\n      open\n    };\n    this.submitEvent(event);\n  }\n\n  // Propose the game to end\n  public proposeGameEnd() {\n    const message: IProposeEndGameMessage = {\n      type: \"proposeEndGame\"\n    };\n    this.webSocket.send(JSON.stringify(message));\n  }\n\n  // When the game ends or player was kicked\n  public gameEnd = (reason: \"end\" | \"removed\" | \"unexpectedWebSocketClosure\" | null) => {\n    this.webSocket.close();\n    switch (reason) {\n      case \"end\":\n        this.onDisplayMessage(\"The game has been ended by the banker\");\n        break;\n      case \"removed\":\n        this.onDisplayMessage(\"You have been removed from the game\");\n        break;\n      case \"unexpectedWebSocketClosure\":\n        this.onDisplayMessage(\"Unexpectedly disconnection from the server\");\n        break;\n    }\n  };\n\n  // On messages from the server\n  private onWebSocketMessage(event: MessageEvent) {\n    const incomingMessage = JSON.parse(event.data) as OutgoingMessage;\n\n    if (incomingMessage.type === \"initialEventArray\") {\n      this.events = incomingMessage.events;\n      this.gameState = calculateGameState(this.events, this.gameState);\n    } else if (incomingMessage.type === \"newEvent\") {\n      this.events.push(incomingMessage.event);\n      this.gameState = calculateGameState([incomingMessage.event], this.gameState);\n    } else if (incomingMessage.type === \"gameEnd\") {\n      this.gameEnd(\"end\");\n    }\n\n    // Check if this player has been kicked\n    const inPlayers = this.gameState.players.map((p) => p.playerId).indexOf(this.playerId) !== -1;\n    if (!inPlayers) {\n      this.gameEnd(\"removed\");\n    }\n\n    // Notify the user of this class that a change has been made internally.\n    const gameEnded = incomingMessage.type === \"gameEnd\" || !inPlayers;\n    this.onGameStateChange(gameEnded);\n  }\n\n  // Messages to the server\n  private submitEvent(event: GameEvent) {\n    const message: IProposeEventMessage = {\n      type: \"proposeEvent\",\n      event\n    };\n    this.webSocket.send(JSON.stringify(message));\n  }\n}\n\nexport default GameHandler;\n","import { useState, useEffect, useCallback } from \"react\";\nimport cogoToast from \"cogo-toast\";\nimport GameHandler from \"../logic/GameHandler\";\nimport { GameEvent, IGameState, GameEntity } from \"@monopoly-money/game-state\";\n\nexport interface IGameHandlerAuthInfo {\n  gameId: string;\n  userToken: string;\n  playerId: string;\n}\n\nexport interface IGameHandlerState extends IGameState {\n  gameId: string;\n  playerId: string;\n  isBanker: boolean;\n  events: GameEvent[];\n  actions: {\n    proposeTransaction: (from: GameEntity, to: GameEntity, amount: number) => void;\n    proposePlayerNameChange: (playerId: string, name: string) => void;\n    proposePlayerDelete: (playerId: string) => void;\n    proposeGameOpenStateChange: (open: boolean) => void;\n    proposeGameEnd: () => void;\n  };\n}\n\nconst onDisplayMessage = (message: string) => {\n  const { hide } = cogoToast.info(message, {\n    position: \"bottom-center\",\n    hideAfter: 10,\n    onClick: () => hide && hide()\n  });\n};\n\nconst useGameHandler = (): {\n  game: IGameHandlerState | null;\n  authInfo: IGameHandlerAuthInfo | null;\n  initialize: (auth: IGameHandlerAuthInfo) => void;\n  clear: () => void;\n} => {\n  const [gameHandler, setGameHandler] = useState<GameHandler | null>(null);\n\n  // Used to trigger updates from the GameHandler\n  const [, updateState] = useState();\n  const forceUpdate = useCallback(() => updateState({}), []);\n\n  // Create / destroy the game handler when new new auth is provided\n  const initialize = ({ gameId, userToken, playerId }: IGameHandlerAuthInfo) => {\n    // If auth has been provided, setup the game handler\n    const onGameStateChange = (gameEnded: boolean) => {\n      if (gameEnded) {\n        setGameHandler(null);\n      } else {\n        forceUpdate();\n      }\n    };\n    setGameHandler(\n      new GameHandler(gameId, userToken, playerId, onGameStateChange, onDisplayMessage)\n    );\n  };\n\n  // Clear the current game\n  const clear = () => {\n    if (gameHandler !== null) {\n      gameHandler.gameEnd(null);\n    }\n    setGameHandler(null);\n  };\n\n  return {\n    initialize,\n    clear,\n    authInfo:\n      gameHandler === null\n        ? null\n        : {\n            gameId: gameHandler.gameId,\n            userToken: gameHandler.userToken,\n            playerId: gameHandler.playerId\n          },\n    game:\n      gameHandler === null\n        ? null\n        : {\n            ...gameHandler.getState(),\n            gameId: gameHandler.gameId,\n            playerId: gameHandler.playerId,\n            isBanker: gameHandler.amIABanker(),\n            events: gameHandler.getEvents(),\n            actions: {\n              proposeTransaction: gameHandler.proposeTransaction.bind(gameHandler),\n              proposePlayerNameChange: gameHandler.proposePlayerNameChange.bind(gameHandler),\n              proposePlayerDelete: gameHandler.proposePlayerDelete.bind(gameHandler),\n              proposeGameOpenStateChange: gameHandler.proposeGameOpenStateChange.bind(gameHandler),\n              proposeGameEnd: gameHandler.proposeGameEnd.bind(gameHandler)\n            }\n          }\n  };\n};\n\nexport default useGameHandler;\n","import React, { useEffect } from \"react\";\nimport { useRoutes, navigate, usePath } from \"hookrouter\";\nimport Navigation from \"./components/Navigation\";\nimport MetaTags from \"./components/MetaTags\";\nimport PageSizeWrapper from \"./components/PageSizeWrapper\";\nimport Home from \"./pages/Home\";\nimport Funds from \"./pages/Funds\";\nimport Bank from \"./pages/Bank\";\nimport History from \"./pages/History\";\nimport Settings from \"./pages/Settings\";\nimport Join from \"./pages/Join\";\nimport { routePaths } from \"./constants\";\nimport useStoredGames from \"./hooks/useStoredGames\";\nimport useGameHandler from \"./hooks/useGameHandler\";\n\nconst wrapRoute = (route: string, child: JSX.Element) => (\n  <MetaTags route={route}>\n    <PageSizeWrapper>{child}</PageSizeWrapper>\n  </MetaTags>\n);\n\nconst App: React.FC = () => {\n  const { storeGame } = useStoredGames();\n  const { game, authInfo, initialize, clear } = useGameHandler();\n  const path = usePath();\n\n  // If the user has gone to a non-game route, clear the game state\n  useEffect(() => {\n    if (path === routePaths.home || path === routePaths.join || path === routePaths.newGame) {\n      onGameDestroy();\n    }\n  }, [path]);\n\n  // If the user has gone to a route that we don't manage, go home\n  useEffect(() => {\n    if (Object.values(routePaths).indexOf(path) === -1) {\n      navigate(\"/\");\n    }\n  }, [path]);\n\n  // Navigate home when a game is ended\n  useEffect(() => {\n    if (game === null) {\n      navigate(\"/\");\n    }\n  }, [game]);\n\n  const onGameSetup = (gameId: string, userToken: string, playerId: string) => {\n    // Save current game for potential later use\n    if (authInfo !== null) {\n      storeGame(authInfo.gameId, authInfo.userToken, authInfo.playerId);\n    }\n\n    // Setup a new game handler by setting up auth\n    initialize({ gameId, userToken, playerId });\n\n    // Store new game details\n    storeGame(gameId, userToken, playerId);\n\n    // Go into game\n    navigate(\"/funds\");\n  };\n\n  const onGameDestroy = () => {\n    if (authInfo !== null) {\n      storeGame(authInfo.gameId, authInfo.userToken, authInfo.playerId);\n    }\n    clear();\n  };\n\n  // Using Home as a \"not found\" component will put us back in the right place\n  const NotFound = () => <Home onGameSetup={onGameSetup} />;\n\n  const routes = {\n    [routePaths.home]: () => wrapRoute(routePaths.home, <Home onGameSetup={onGameSetup} />),\n    [routePaths.join]: () =>\n      wrapRoute(routePaths.join, <Join newGame={false} onGameSetup={onGameSetup} />),\n    [routePaths.newGame]: () =>\n      wrapRoute(routePaths.newGame, <Join newGame={true} onGameSetup={onGameSetup} />),\n    [routePaths.funds]:\n      game !== null\n        ? () =>\n            wrapRoute(\n              routePaths.funds,\n              <Funds\n                gameId={game.gameId}\n                playerId={game.playerId}\n                isGameOpen={game.open}\n                players={game.players}\n                freeParkingBalance={game.freeParkingBalance}\n                proposeTransaction={game.actions.proposeTransaction}\n              />\n            )\n        : () => <NotFound />,\n    [routePaths.bank]:\n      game !== null && game.isBanker\n        ? () =>\n            wrapRoute(\n              routePaths.bank,\n              <Bank\n                players={game.players}\n                freeParkingBalance={game.freeParkingBalance}\n                proposeTransaction={game.actions.proposeTransaction}\n              />\n            )\n        : () => <NotFound />,\n    [routePaths.history]:\n      game !== null\n        ? () => wrapRoute(routePaths.history, <History events={game.events} />)\n        : () => <NotFound />,\n    [routePaths.settings]:\n      game !== null && game.isBanker\n        ? () =>\n            wrapRoute(\n              routePaths.settings,\n              <Settings\n                isGameOpen={game.open}\n                players={game.players}\n                proposePlayerNameChange={game.actions.proposePlayerNameChange}\n                proposePlayerDelete={game.actions.proposePlayerDelete}\n                proposeGameOpenStateChange={game.actions.proposeGameOpenStateChange}\n                proposeGameEnd={game.actions.proposeGameEnd}\n              />\n            )\n        : () => <NotFound />\n  };\n\n  const routeResult = useRoutes(routes);\n\n  return (\n    <>\n      <Navigation inGame={game !== null} isBanker={game?.isBanker ?? false} />\n      <div className=\"my-3\">{routeResult || <NotFound />}</div>\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport { ModalProvider } from \"react-modal-hook\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <ModalProvider>\n    <App />\n  </ModalProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst state_1 = require(\"./state\");\nexports.defaultGameState = state_1.defaultGameState;\nexports.calculateGameState = state_1.calculateGameState;\n//# sourceMappingURL=index.js.map","module.exports = __webpack_public_path__ + \"static/media/banner.6db68e8e.png\";"],"sourceRoot":""}